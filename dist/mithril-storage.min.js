/*! 2015-05-08 */

!function(a){"use strict";function b(){this.$storage=document.cookie=""}function c(){this.$storage={}}function e(){this.$storage=window.localStorage}function f(){this.$storage=window.sessionStorage}function g(){return e.isAvailable()?i[mx.DEFAULT_STORAGE_NAME]=new e:i[mx.DEFAULT_STORAGE_NAME]=new b}var h=10;b.prototype.set=function(a,b){var c=new Date,e=JSON.stringify(b);c.setTime(c.getTime()+24*h*60*60*1e3);var f="expires="+d.toUTCString();this.$storage+=a+"="+e+"; "+f},b.prototype.get=function(a){for(var b=a+"=",c=this.$storage.split(";"),d=0;d<c.length;d++){for(var e=splitCookie[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(b))return JSON.parse(e.substring(b.length,e.length))}return""},b.prototype.remove=function(a){for(var b=a+"=",c=this.$storage.split(";"),d=0;d<c.length;d++){for(var e=splitCookie[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(b)){var f=this.$storage.indexOf(e);this.$storage=this.$storage.slice(f,f+e.length)}}return""},c.prototype.set=function(a,b){this.$storage[a]=JSON.stringify(b)},c.prototype.get=function(a){return JSON.parse(this.$storage[a])},c.prototype.remove=function(a){delete this.$storage[a]},e.prototype.set=function(a,b){this.$storage.setItem(a,JSON.stringify(b))},e.prototype.get=function(a){return JSON.parse(this.$storage.getItem(a))},e.prototype.remove=function(a){this.$storage.removeItem(a)},e.isAvailable=function(){return!!window.localStorage},f.prototype.set=function(a,b){this.$storage.setItem(a,JSON.stringify(b))},f.prototype.get=function(a){JSON.parse(this.$storage.getItem(a))},f.prototype.remove=function(a){this.$storage.removeItem(a)},f.isAvailable=function(){return!!window.sessionStorage},window.mx=window.mx||{};var i={};mx.COOKIE_STORAGE="cookie",mx.LOCAL_STORAGE="local",mx.SESSION_STORAGE="session",mx.IN_MEMORY_STORAGE="in-memory",mx.DEFAULT_STORAGE="default",mx.DEFAULT_STORAGE_NAME="default",mx.storage=function(a,d){var h;if(d){switch(d){case mx.COOKIE_STORAGE:h=new b;break;case mx.LOCAL_STORAGE:h=new e;break;case mx.SESSION_STORAGE:h=new f;break;case mx.IN_MEMORY_STORAGE:h=new c;break;case mx.DEFAULT_STORAGE:h=g();break;default:throw new Error(d+" is not a valid storage type.")}i[a||mx.DEFAULT_STORAGE_NAME]=h}return i[a||mx.DEFAULT_STORAGE_NAME]},g()}(m);
//# sourceMappingURL=mithril-storage.js.map